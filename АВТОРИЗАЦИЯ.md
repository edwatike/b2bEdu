# üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç - –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

## ‚úÖ –°–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π —Å–ø–æ—Å–æ–± (–±–µ–∑ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏)

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ **–ª–æ–≥–∏–Ω –∏ –ø–∞—Ä–æ–ª—å**:

```
–õ–æ–≥–∏–Ω:   admin
–ü–∞—Ä–æ–ª—å:  admin123
```

‚û°Ô∏è –û—Ç–∫—Ä–æ–π—Ç–µ `/login` –∏ –≤–≤–µ–¥–∏—Ç–µ —ç—Ç–∏ –¥–∞–Ω–Ω—ã–µ.

---

## üîê –î–≤–∞ —Å–ø–æ—Å–æ–±–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

### 1Ô∏è‚É£ –õ–æ–≥–∏–Ω/–ü–∞—Ä–æ–ª—å (—Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ä–∞–∑—É)
- ‚úÖ –ù–µ —Ç—Ä–µ–±—É–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –≤—Å–µ–≥–¥–∞
- ‚úÖ –î–µ–º–æ-–¥–æ—Å—Ç—É–ø: `admin` / `admin123`

### 2Ô∏è‚É£ –ß–µ—Ä–µ–∑ –Ø–Ω–¥–µ–∫—Å ID (–Ω—É–∂–Ω–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞)
- üîß –¢—Ä–µ–±—É–µ—Ç —Å–æ–∑–¥–∞–Ω–∏—è OAuth –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- üîß –ù—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å `YANDEX_CLIENT_ID` –∏ `YANDEX_CLIENT_SECRET`
- ‚úÖ –£–¥–æ–±–Ω—ã–π –≤—Ö–æ–¥ –±–µ–∑ –∑–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –ø–∞—Ä–æ–ª—è
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

---

## ‚ö° –ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ –æ—à–∏–±–∫—É "YANDEX_CLIENT_ID is not configured"

–≠—Ç–æ **–Ω–æ—Ä–º–∞–ª—å–Ω–æ**! –ó–Ω–∞—á–∏—Ç –ø—Ä–æ—Å—Ç–æ:

1. **–ò–≥–Ω–æ—Ä–∏—Ä—É–π—Ç–µ —ç—Ç—É –æ—à–∏–±–∫—É** - –æ–Ω–∞ –ø–æ—è–≤–ª—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –∫—Ç–æ-—Ç–æ –ø–æ–ø—ã—Ç–∞–ª—Å—è –≤–æ–π—Ç–∏ —á–µ—Ä–µ–∑ –Ø–Ω–¥–µ–∫—Å
2. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ª–æ–≥–∏–Ω/–ø–∞—Ä–æ–ª—å** –≤–º–µ—Å—Ç–æ –∫–Ω–æ–ø–∫–∏ "–í–æ–π—Ç–∏ —á–µ—Ä–µ–∑ –Ø–Ω–¥–µ–∫—Å"
3. **–ò–ª–∏ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –Ø–Ω–¥–µ–∫—Å OAuth** (—Å–º. –Ω–∏–∂–µ)

---

## üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤—Ö–æ–¥–∞ —á–µ—Ä–µ–∑ –Ø–Ω–¥–µ–∫—Å (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤—Ö–æ–¥ —á–µ—Ä–µ–∑ –Ø–Ω–¥–µ–∫—Å:

### –®–∞–≥ 1: –°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ https://oauth.yandex.ru/
2. –ù–∞–∂–º–∏—Ç–µ "–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ"
3. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ: "B2B Moderator Dashboard"

### –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Callback URL
–í —Ä–∞–∑–¥–µ–ª–µ "–ü–ª–∞—Ç—Ñ–æ—Ä–º—ã" ‚Üí "–í–µ–±-—Å–µ—Ä–≤–∏—Å—ã" —É–∫–∞–∂–∏—Ç–µ:
```
https://hobnailed-ballistically-jolie.ngrok-free.dev/api/yandex/callback
```

‚ö†Ô∏è **–í–∞–∂–Ω–æ**: –ï—Å–ª–∏ –≤–∞—à ngrok URL –∏–∑–º–µ–Ω–∏—Ç—Å—è, –æ–±–Ω–æ–≤–∏—Ç–µ —ç—Ç–æ—Ç –∞–¥—Ä–µ—Å!

### –®–∞–≥ 3: –í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞
–í —Ä–∞–∑–¥–µ–ª–µ "–î–æ—Å—Ç—É–ø –∫ –¥–∞–Ω–Ω—ã–º":
- ‚úÖ `login:email` - –î–æ—Å—Ç—É–ø –∫ –∞–¥—Ä–µ—Å—É —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ–π –ø–æ—á—Ç—ã
- ‚úÖ `login:info` - –î–æ—Å—Ç—É–ø –∫ –∏–º–µ–Ω–∏ –∏ —Ñ–∞–º–∏–ª–∏–∏

### –®–∞–≥ 4: –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
–ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤—ã –ø–æ–ª—É—á–∏—Ç–µ:
- **ClientID** 
- **Client Secret**

### –®–∞–≥ 5: –î–æ–±–∞–≤—å—Ç–µ –≤ .env.local
–û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `.env.local` –∏ –¥–æ–±–∞–≤—å—Ç–µ:

```env
YANDEX_CLIENT_ID=–≤–∞—à_client_id_–∑–¥–µ—Å—å
YANDEX_CLIENT_SECRET=–≤–∞—à_client_secret_–∑–¥–µ—Å—å
YANDEX_REDIRECT_URI=https://hobnailed-ballistically-jolie.ngrok-free.dev/api/yandex/callback
```

### –®–∞–≥ 6: –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
```bash
npm run dev
# –∏–ª–∏
pnpm dev
```

–ü–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ `/login` –ø–æ—è–≤–∏—Ç—Å—è –∫–Ω–æ–ø–∫–∞ "–í–æ–π—Ç–∏ —á–µ—Ä–µ–∑ –Ø–Ω–¥–µ–∫—Å" üéâ

---

## üéØ –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –ü—Ä–∏ –≤—Ö–æ–¥–µ —á–µ—Ä–µ–∑ –ª–æ–≥–∏–Ω/–ø–∞—Ä–æ–ª—å:
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –ø–∞—Ä–∞ –ª–æ–≥–∏–Ω/–ø–∞—Ä–æ–ª—å –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
- –í—ã–¥–∞–µ—Ç—Å—è JWT —Ç–æ–∫–µ–Ω
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –Ω–∞ –≥–ª–∞–≤–Ω—É—é

### –ü—Ä–∏ –≤—Ö–æ–¥–µ —á–µ—Ä–µ–∑ –Ø–Ω–¥–µ–∫—Å:
- –Ø–Ω–¥–µ–∫—Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç –ª–∏—á–Ω–æ—Å—Ç—å
- –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–µ—Ç - —Å–æ–∑–¥–∞–µ—Ç—Å—è –Ω–æ–≤—ã–π –∞–∫–∫–∞—É–Ω—Ç
- –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –µ—Å—Ç—å - –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –≤—Ä–µ–º—è –≤—Ö–æ–¥–∞
- –í—ã–¥–∞–µ—Ç—Å—è JWT —Ç–æ–∫–µ–Ω
- **–ú–∞—Å—Ç–µ—Ä-–º–æ–¥–µ—Ä–∞—Ç–æ—Ä** (`edwatik@yandex.ru`) ‚Üí `/moderator`
- **–û–±—ã—á–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏** ‚Üí `/cabinet`

---

## üîç –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- –ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è: `YANDEX_OAUTH_SETUP.md`
- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø–æ–º–æ—â–∏: `/auth-help`
- –¢–µ—Å—Ç–æ–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è: `/test-connection`

---

## ‚ùì –ß–∞—Å—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã

**Q: –ü–æ—á–µ–º—É —è –≤–∏–∂—É –æ—à–∏–±–∫—É –ø—Ä–æ YANDEX_CLIENT_ID?**
A: –≠—Ç–æ –∑–Ω–∞—á–∏—Ç, —á—Ç–æ OAuth –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ª–æ–≥–∏–Ω/–ø–∞—Ä–æ–ª—å –∏–ª–∏ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ OAuth.

**Q: –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ª–∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –Ø–Ω–¥–µ–∫—Å OAuth?**
A: –ù–µ—Ç! –í—Ö–æ–¥ –ø–æ –ª–æ–≥–∏–Ω—É/–ø–∞—Ä–æ–ª—é —Ä–∞–±–æ—Ç–∞–µ—Ç –≤—Å–µ–≥–¥–∞ –±–µ–∑ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫.

**Q: –ì–¥–µ –≤–∑—è—Ç—å –¥–µ–º–æ-–¥–æ—Å—Ç—É–ø?**
A: –õ–æ–≥–∏–Ω `admin`, –ø–∞—Ä–æ–ª—å `admin123`

**Q: –ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å –ø—Ä–∞–≤–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞?**
A: –ü—Ä–∏ –≤—Ö–æ–¥–µ —á–µ—Ä–µ–∑ –Ø–Ω–¥–µ–∫—Å —Å email `edwatik@yandex.ru` –∏–ª–∏ –∏–∑–º–µ–Ω–∏—Ç–µ `MODERATOR_MASTER_EMAIL` –≤ `.env.local`

**Q: –ö–Ω–æ–ø–∫–∞ –Ø–Ω–¥–µ–∫—Å–∞ –Ω–µ –ø–æ—è–≤–ª—è–µ—Ç—Å—è**
A: –≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ, –µ—Å–ª–∏ OAuth –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–ª–∏—á–∏–µ `YANDEX_CLIENT_ID` –≤ `.env.local`

---

## üéâ –ì–æ—Ç–æ–≤–æ!

–¢–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ –≤–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É –ª—é–±—ã–º —É–¥–æ–±–Ω—ã–º —Å–ø–æ—Å–æ–±–æ–º.

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**: –ù–∞—á–Ω–∏—Ç–µ —Å –ª–æ–≥–∏–Ω–∞/–ø–∞—Ä–æ–ª—è (`admin`/`admin123`), –∞ OAuth –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–æ–∑–∂–µ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏.
