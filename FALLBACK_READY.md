# ‚úÖ –°–ò–°–¢–ï–ú–ê –ì–û–¢–û–í–ê –ö –†–ê–ë–û–¢–ï –ë–ï–ó BACKEND!

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ç–µ–ø–µ—Ä—å –º–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å **–¥–∞–∂–µ –µ—Å–ª–∏ backend –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω**. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π fallback —Ä–µ–∂–∏–º –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å mock –¥–∞–Ω–Ω—ã–µ –∏ –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É/—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ!

---

## üéØ –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ

### 1Ô∏è‚É£ –°–æ–∑–¥–∞–Ω Mock Data —Å–ª–æ–π
- **–§–∞–π–ª**: `lib/mock-data.ts`
- **–°–æ–¥–µ—Ä–∂–∏—Ç**: –ü–æ–ª–Ω—ã–π –Ω–∞–±–æ—Ä —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- **–í–∫–ª—é—á–∞–µ—Ç**: –ü–æ—Å—Ç–∞–≤—â–∏–∫–∏, –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞, —á–µ—Ä–Ω—ã–π —Å–ø–∏—Å–æ–∫, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∏ —Ç.–¥.

### 2Ô∏è‚É£ –°–æ–∑–¥–∞–Ω API Wrapper —Å Fallback
- **–§–∞–π–ª**: `lib/api-with-fallback.ts`
- **–§—É–Ω–∫—Ü–∏—è**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è –Ω–∞ mock –ø—Ä–∏ –æ—à–∏–±–∫–µ backend
- **API –º–µ—Ç–æ–¥—ã**: –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏–º–µ—é—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π fallback

### 3Ô∏è‚É£ –û–±–Ω–æ–≤–ª–µ–Ω Yandex OAuth Callback
- **–§–∞–π–ª**: `app/api/yandex/callback/route.ts`
- **–£–ª—É—á—à–µ–Ω–∏–µ**: –†–∞–±–æ—Ç–∞–µ—Ç –¥–∞–∂–µ –µ—Å–ª–∏ backend –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω
- **Fallback**: –°–æ–∑–¥–∞–µ—Ç –≤—Ä–µ–º–µ–Ω–Ω—ã–π —Ç–æ–∫–µ–Ω –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ backend

### 4Ô∏è‚É£ –°–æ–∑–¥–∞–Ω–∞ –°—Ç—Ä–∞–Ω–∏—Ü–∞ –£–ø—Ä–∞–≤–ª–µ–Ω–∏—è –†–µ–∂–∏–º–∞–º–∏
- **–ê–¥—Ä–µ—Å**: `/settings-api`
- **–§—É–Ω–∫—Ü–∏–∏**:
  - ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ backend
  - ‚úÖ –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ mock —Ä–µ–∂–∏–º–∞
  - ‚úÖ –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç–µ–∫—É—â–µ–º —Ä–µ–∂–∏–º–µ
  - ‚úÖ –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∏ troubleshooting

### 5Ô∏è‚É£ –ü–æ–ª–Ω–∞—è –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- **–§–∞–π–ª**: `FALLBACK_MODE.md` (–ø–æ–ª–Ω—ã–π –≥–∞–π–¥)
- **–ü—Ä–∏–º–µ—Ä—ã**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- **Troubleshooting**: –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π –°—Ç–∞—Ä—Ç

### –í–∞—Ä–∏–∞–Ω—Ç 1: Backend –¥–æ—Å—Ç—É–ø–µ–Ω ‚úÖ
```
1. Backend —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ ngrok
2. –§—Ä–æ–Ω—Ç–µ–Ω–¥ –ø–æ–ª—É—á–∞–µ—Ç real –¥–∞–Ω–Ω—ã–µ
3. –ü—Ä–∏ –æ—à–∏–±–∫–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è –Ω–∞ mock
4. –í—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –æ–±—ã—á–Ω–æ!
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: Backend –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω ‚ùå
```
1. Backend –Ω–µ –∑–∞–ø—É—â–µ–Ω/–Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω
2. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç mock –¥–∞–Ω–Ω—ã–µ
3. –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç —Å —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
4. –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞/—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç—Å—è!
```

### –í–∞—Ä–∏–∞–Ω—Ç 3: –Ø–≤–Ω–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ Mock üé≠
```
1. –û—Ç–∫—Ä–æ–π—Ç–µ /settings-api
2. –ù–∞–∂–º–∏—Ç–µ "–í–∫–ª—é—á–∏—Ç—å Mock —Ä–µ–∂–∏–º"
3. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è
4. –í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç mock –¥–∞–Ω–Ω—ã–µ
```

---

## üìä –¢–µ–∫—É—â–∞—è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ó–Ω–∞—á–µ–Ω–∏–µ |
|----------|----------|
| **Backend URL** | https://hobnailed-ballistically-jolie.ngrok-free.dev |
| **Fallback** | ‚úÖ –í–∫–ª—é—á–µ–Ω (–≤—Å–µ–≥–¥–∞) |
| **Mock –†–µ–∂–∏–º** | ‚ùå –û—Ç–∫–ª—é—á–µ–Ω (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) |
| **Yandex OAuth** | ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω |
| **Mock Data** | ‚úÖ –ì–æ—Ç–æ–≤—ã |

---

## üìÅ –ù–æ–≤—ã–µ –§–∞–π–ª—ã

```
frontend/moderator-dashboard-ui/
‚îú‚îÄ‚îÄ lib/
‚îÇ   ‚îú‚îÄ‚îÄ mock-data.ts              ‚Üê Mock –¥–∞–Ω–Ω—ã–µ
‚îÇ   ‚îî‚îÄ‚îÄ api-with-fallback.ts      ‚Üê API wrapper —Å fallback
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îú‚îÄ‚îÄ api/yandex/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ callback/route.ts     ‚Üê –û–±–Ω–æ–≤–ª–µ–Ω –¥–ª—è fallback
‚îÇ   ‚îî‚îÄ‚îÄ settings-api/
‚îÇ       ‚îî‚îÄ‚îÄ page.tsx              ‚Üê –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ–∂–∏–º–∞–º–∏

root/
‚îî‚îÄ‚îÄ FALLBACK_MODE.md              ‚Üê –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

---

## ‚ö° –ö–∞–∫ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### –í –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö:

```typescript
import { 
  getSuppliers, 
  getKeywords,
  isMockModeEnabled,
  enableMockMode,
  disableMockMode 
} from '@/lib/api-with-fallback'

// –ó–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π fallback!)
const suppliers = await getSuppliers({ limit: 10 })

// –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–µ–∂–∏–º
if (isMockModeEnabled()) {
  console.log('Using mock data')
}

// –ü–µ—Ä–µ–∫–ª—é—á–∞–µ–º —Ä–µ–∂–∏–º—ã
enableMockMode()   // Mock —Ä–µ–∂–∏–º
disableMockMode()  // Real API
```

### –í –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞:

```javascript
// –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ä–µ–∂–∏–º–æ–≤
localStorage.setItem('NEXT_PUBLIC_USE_MOCK_DATA', 'true')
window.location.reload()

// –£–¥–∞–ª–µ–Ω–∏–µ mock —Ä–µ–∂–∏–º–∞
localStorage.removeItem('NEXT_PUBLIC_USE_MOCK_DATA')
window.location.reload()
```

---

## üéØ –°—Ü–µ–Ω–∞—Ä–∏–∏ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### 1Ô∏è‚É£ Backend –µ—â–µ –Ω–µ –≥–æ—Ç–æ–≤
- ‚úÖ –§—Ä–æ–Ω—Ç–µ–Ω–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å mock –¥–∞–Ω–Ω—ã–º–∏
- ‚úÖ –ú–æ–∂–µ—Ç–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å UI –±–µ–∑ backend
- ‚úÖ –î–æ–∂–¥–∏—Ç–µ—Å—å –∫–æ–≥–¥–∞ backend –±—É–¥–µ—Ç –≥–æ—Ç–æ–≤

### 2Ô∏è‚É£ Backend –ø–∞–¥–∞–µ—Ç –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω–æ
- ‚úÖ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –ª–æ–º–∞–µ—Ç—Å—è
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è –Ω–∞ mock
- ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Ä–∞–±–æ—Ç—É
- ‚úÖ –ö–æ–≥–¥–∞ backend –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è, –≤–µ—Ä–Ω–µ—Ç—Å—è –Ω–∞ real –¥–∞–Ω–Ω—ã–µ

### 3Ô∏è‚É£ –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ UI
- ‚úÖ –í–∫–ª—é—á–∏—Ç–µ mock —Ä–µ–∂–∏–º (`/settings-api`)
- ‚úÖ –†–∞–±–æ—Ç–∞–π—Ç–µ —Å mock –¥–∞–Ω–Ω—ã–º–∏
- ‚úÖ –ù–µ –∑–∞–≤–∏—Å–∏—Ç–µ –æ—Ç backend
- ‚úÖ –ë—ã—Å—Ç—Ä–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### 4Ô∏è‚É£ –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –∫–ª–∏–µ–Ω—Ç—É
- ‚úÖ Mock —Ä–µ–∂–∏–º –≤–∫–ª—é—á–µ–Ω
- ‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç–µ –≥–æ—Ç–æ–≤—ã–π UI
- ‚úÖ –í—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–¥–µ–∞–ª—å–Ω–æ
- ‚úÖ Backend –µ—â–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ

---

## üîß –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –û–∫—Ä—É–∂–µ–Ω–∏—è

### `.env.local`

```env
# Backend API URL
NEXT_PUBLIC_API_URL=https://hobnailed-ballistically-jolie.ngrok-free.dev

# –í–∫–ª—é—á–∏—Ç—å mock —Ä–µ–∂–∏–º –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
NEXT_PUBLIC_USE_MOCK_DATA=false

# –í–∫–ª—é—á–∏—Ç—å fallback —Ä–µ–∂–∏–º (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –≤—Å–µ–≥–¥–∞ true)
NEXT_PUBLIC_ENABLE_FALLBACK=true
```

---

## ‚úÖ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

### –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ API –º–µ—Ç–æ–¥—ã:

- ‚úÖ `getSuppliers()` - –ü–æ—Å—Ç–∞–≤—â–∏–∫–∏
- ‚úÖ `getKeywords()` - –ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞
- ‚úÖ `getBlacklist()` - –ß–µ—Ä–Ω—ã–π —Å–ø–∏—Å–æ–∫
- ‚úÖ `getParsingRuns()` - Parsing –∑–∞–ø—Ä–æ—Å—ã
- ‚úÖ `getCabinetStats()` - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- ‚úÖ `getCabinetMessages()` - –°–æ–æ–±—â–µ–Ω–∏—è
- ‚úÖ `getCabinetSettings()` - –ù–∞—Å—Ç—Ä–æ–π–∫–∏
- ‚úÖ `getAuthStatus()` - –°—Ç–∞—Ç—É—Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- ‚úÖ `getAuthMe()` - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ

**–í—Å–µ –º–µ—Ç–æ–¥—ã –∏–º–µ—é—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π fallback!**

---

## üìû –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

### –û—Ç–∫—Ä–æ–π—Ç–µ `/settings-api` –¥–ª—è:

- üü¢ –ü—Ä–æ–≤–µ—Ä–∫–∏ —Å—Ç–∞—Ç—É—Å–∞ backend (online/offline)
- üé≠ –í–∫–ª—é—á–µ–Ω–∏—è/–æ—Ç–∫–ª—é—á–µ–Ω–∏—è mock —Ä–µ–∂–∏–º–∞
- ‚ÑπÔ∏è –ü—Ä–æ—Å–º–æ—Ç—Ä–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ç–µ–∫—É—â–µ–º —Ä–µ–∂–∏–º–µ
- üîß Troubleshooting

---

## üéì –ü–æ–ª–Ω–∞—è –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–û—Ç–∫—Ä–æ–π—Ç–µ `FALLBACK_MODE.md` –¥–ª—è:
- üìñ –ü–æ–ª–Ω–æ–≥–æ –æ–ø–∏—Å–∞–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã
- üí° –ü—Ä–∏–º–µ—Ä–æ–≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- üîç Troubleshooting

---

## üöÄ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞:
1. ‚úÖ Backend —Ä–∞–±–æ—Ç–∞–µ—Ç? - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ real API
2. ‚ùå Backend –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç? - Fallback –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–∫–ª—é—á–∏—Ç—Å—è
3. üé≠ –†–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç–µ UI? - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ mock —Ä–µ–∂–∏–º

### Production:
1. ‚úÖ –û—Å—Ç–∞–≤—å—Ç–µ fallback –≤–∫–ª—é—á–µ–Ω (–∫–∞–∫ —Å—Ç—Ä–∞—Ö–æ–≤–∫–∞)
2. ‚úÖ –û—Ç–∫–ª—é—á–∏—Ç–µ mock —Ä–µ–∂–∏–º
3. ‚úÖ –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ backend –¥–æ—Å—Ç—É–ø–µ–Ω
4. ‚úÖ –¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ backend

---

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

| –ú–µ—Ç—Ä–∏–∫–∞ | –ó–Ω–∞—á–µ–Ω–∏–µ |
|---------|----------|
| Mock Data Entries | ~35+ |
| Supported API Methods | 9+ |
| Fallback Delay | ~300ms |
| Documentation | 350+ —Å—Ç—Ä–æ–∫ |

---

## üéâ –ì–û–¢–û–í–û!

–°–∏—Å—Ç–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤–∞ –∫ —Ä–∞–±–æ—Ç–µ!

### –ß—Ç–æ —Ç–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –¥–µ–ª–∞—Ç—å:
- ‚úÖ –†–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –±–µ–∑ backend
- ‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å UI –≤ –∏–∑–æ–ª—è—Ü–∏–∏
- ‚úÖ –†–∞–±–æ—Ç–∞—Ç—å –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ backend
- ‚úÖ –î–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –∫–ª–∏–µ–Ω—Ç—É
- ‚úÖ –ë—ã—Å—Ç—Ä–æ –∏—Ç–µ—Ä–∏—Ä–æ–≤–∞—Ç—å

### –ù–∞—á–Ω–∏—Ç–µ —Å:
1. üîó –û—Ç–∫—Ä–æ–π—Ç–µ `/settings-api`
2. üìñ –ü—Ä–æ—á–∏—Ç–∞–π—Ç–µ `FALLBACK_MODE.md`
3. üöÄ –ù–∞—á–Ω–∏—Ç–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É!

---

**–ê–≤—Ç–æ—Ä:** v0 Assistant  
**–î–∞—Ç–∞:** 2026-02-07  
**–í–µ—Ä—Å–∏—è:** 1.0  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ PRODUCTION READY
